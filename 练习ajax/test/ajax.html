<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
   window.onload = function(){
        var getXHR = (function(){
            var list = [function(){
                return new XMLHttpRequest;
            },function(){
                return new ActiveXObject('Microsoft.XMLHTTP');
            },function(){
                return new ActiveXObject('Msxml2.XMLHTTP');
            },function (){
                return new ActiveXObject('Msxml3.XMLHTTP');
            }],xhr = null;
            while(xhr = list.shift()){
                try{ //
                    xhr();
                    break;
                }catch(e){
                    continue;
                }
            }
            if(xhr !== null){
                return xhr;
            }
            throw new ReferenceError("浏览器不支持此功能")
        })()

        var xhr = getXHR();

        /*var xhr = (function(){
         var flag = window.XMLHttpRequest;
         if(flag){
         return function(){
         return new XMLHttpRequest();
         }
         }
         return function(){
         return new ActiveXObject("Microsfot.XMLHTTP");
         }
         })();
         var x = xhr();*/
        xhr.open('get','/ajax',true,'jiaolongchao','1234');

        xhr.onreadystatechange = function(){
            if(xhr.readyState===4 && /^2\d{2}$/.test(xhr.status)){
                console.table(xhr.responseText)
            }
        }
        xhr.send();
    }
</script>
ajax.html
</body>
</html>